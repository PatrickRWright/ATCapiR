<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>An R Package to Query the NCBO Bioportal ATC Code API • ATCapiR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="An R Package to Query the NCBO Bioportal ATC Code API">
<meta property="og:description" content="An R package to query the NCBO Bioportal ATC code API.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ATCapiR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="atcapir--appveyor-build-status-travis-codecov" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#atcapir--appveyor-build-status-travis-codecov" class="anchor"></a>ATCapiR <a href="https://github.com/PatrickRWright/ATCapiR"><img src="https://img.shields.io/badge/dev%20version-0.0.1-blue.svg"></a> <a href="https://ci.appveyor.com/project/PatrickRWright/ATCapiR"><img src="https://ci.appveyor.com/api/projects/status/github/PatrickRWright/ATCapiR?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a> <a href="https://api.travis-ci.com/PatrickRWright/ATCapiR.svg?branch=master"><img src="https://api.travis-ci.com/PatrickRWright/ATCapiR.svg?branch=master" alt="travis"></a> <a href="https://codecov.io/github/PatrickRWright/ATCapiR"><img src="https://codecov.io/github/PatrickRWright/ATCapiR/branch/master/graphs/badge.svg" alt="codecov"></a>
</h1></div>
<div id="before-you-install" class="section level2">
<h2 class="hasAnchor">
<a href="#before-you-install" class="anchor"></a>Before you install</h2>
<p>I you would like to work with this package you will first need to create a personal account at the <a href="https://bioportal.bioontology.org/">NCBI Bioportal</a>. Withing your account information you should be able to find an API key. Only a valid API key will allow you to use the package.</p>
</div>
<div id="installing-from-github-with-devtools" class="section level2">
<h2 class="hasAnchor">
<a href="#installing-from-github-with-devtools" class="anchor"></a>Installing from GitHub with devtools</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">"PatrickRWright/ATCapiR"</span>)</span></code></pre></div>
</div>
<div id="basic-usage" class="section level2">
<h2 class="hasAnchor">
<a href="#basic-usage" class="anchor"></a>Basic usage</h2>
<p>Load the package</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># load the package</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="kw">library</span>(ATCapiR)</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co"># vector of ATC codes</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>ATC_vect &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"A02BC02"</span>, <span class="st">"C03BA08"</span>, <span class="st">"A02BC02"</span>, <span class="st">"A02BC02"</span>, <span class="st">"A07DA03"</span>, <span class="st">"A07DA03"</span>,</span>
<span id="cb2-5"><a href="#cb2-5"></a>              <span class="st">"A02BC02"</span>, <span class="st">"A02BC02"</span>, <span class="st">"A02BC02"</span>, <span class="st">"A02BC02"</span>, <span class="st">"C10AA05"</span>, <span class="st">"C10AA05"</span>,</span>
<span id="cb2-6"><a href="#cb2-6"></a>              <span class="st">"C10AA05"</span>, <span class="st">"N05BA06"</span>, <span class="st">"N05BA06"</span>, <span class="st">"N05BA06"</span>, <span class="st">"N06AX11"</span>, <span class="st">"N06AX11"</span>)</span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="co"># you will need to create an account at https://bioportal.bioontology.org/ to receive an api_key</span></span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="co"># the key below is not real and just supposed to give you an impression of the format</span></span>
<span id="cb2-9"><a href="#cb2-9"></a>api_key &lt;-<span class="st"> "a123b456-cd78-91e2-fgh3-4ij56kl7mno8"</span></span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="co"># return translation at third level resolution</span></span>
<span id="cb2-11"><a href="#cb2-11"></a>ATC_translated_df &lt;-<span class="st"> </span><span class="kw">translate_ATC_codes</span>(ATC_vect, <span class="dt">level_depth =</span> <span class="dv">3</span>, <span class="dt">api_key =</span> api_key)</span></code></pre></div>
<p>If <code>HTTP error 401</code> is returned your API key is likely wrong or void.</p>
</div>
<div id="for-contributors" class="section level2">
<h2 class="hasAnchor">
<a href="#for-contributors" class="anchor"></a>For contributors</h2>
<div id="testing-with-devtools" class="section level3">
<h3 class="hasAnchor">
<a href="#testing-with-devtools" class="anchor"></a>Testing with devtools</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># run tests, this assumes you are one directory up from the ATCapiR dir</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>devtools<span class="op">::</span><span class="kw">test</span>(<span class="st">"ATCapiR"</span>)</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co"># spell check</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co"># ignore words character vector allows to exclude technical terms in the check</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>ignore_words &lt;-<span class="st"> </span><span class="kw">c</span>()</span>
<span id="cb3-6"><a href="#cb3-6"></a>devtools<span class="op">::</span><span class="kw">spell_check</span>(<span class="st">"ATCapiR"</span>, <span class="dt">ignore =</span> ignore_words)</span></code></pre></div>
</div>
<div id="linting-with-lintr" class="section level3">
<h3 class="hasAnchor">
<a href="#linting-with-lintr" class="anchor"></a>Linting with lintr</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># lint the package -&gt; should be clean</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="kw">library</span>(lintr)</span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="kw">lint_package</span>(<span class="st">"ATCapiR"</span>, <span class="dt">linters =</span> <span class="kw">with_defaults</span>(<span class="dt">camel_case_linter =</span> <span class="ot">NULL</span>,</span>
<span id="cb4-4"><a href="#cb4-4"></a>                                                     <span class="dt">object_usage_linter =</span> <span class="ot">NULL</span>,</span>
<span id="cb4-5"><a href="#cb4-5"></a>                                                     <span class="kw">line_length_linter</span>(<span class="dv">125</span>)))</span></code></pre></div>
</div>
<div id="building-the-vignette" class="section level3">
<h3 class="hasAnchor">
<a href="#building-the-vignette" class="anchor"></a>Building the vignette</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw">library</span>(rmarkdown)</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="kw">render</span>(<span class="st">"vignettes/ATCapiR-package-vignette.Rmd"</span>,</span>
<span id="cb5-3"><a href="#cb5-3"></a>       <span class="dt">output_format=</span><span class="kw">c</span>(<span class="st">"pdf_document"</span>))</span></code></pre></div>
</div>
<div id="generating-the-readme-file" class="section level3">
<h3 class="hasAnchor">
<a href="#generating-the-readme-file" class="anchor"></a>Generating the README file</h3>
<p>The README file contains both standard text and interpreted R code. Changes should be made in the <code>README.Rmd</code> file and the file “knited” with R. In this template the knitting of the Rmd file is performed automatically with GitHub actions.</p>
</div>
<div id="handling-dependencies" class="section level3">
<h3 class="hasAnchor">
<a href="#handling-dependencies" class="anchor"></a>Handling dependencies</h3>
<p>Dependencies to other R packages are to be declared in the <code>DESCRIPTION</code> file under <code>Imports:</code> and in the specific <code>roxygen2</code> documentation of the functions relying on the dependency. It is suggested to be as explicit as possible. i.e. Just import functions that are needed and not entire packages.</p>
<p>Example to import <code>str_match</code> <code>str_length</code> <code>str_wrap</code> from the <code>stringr</code> package:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co">#' @importFrom stringr str_match str_length str_wrap</span></span></code></pre></div>
</div>
<div id="preparing-a-release-on-cran" class="section level3">
<h3 class="hasAnchor">
<a href="#preparing-a-release-on-cran" class="anchor"></a>Preparing a release on CRAN</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># build the package archive</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>R CMD build ATCapiR</span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="co"># check the archive (should return "Status: OK", no WARNINGs, no NOTEs)</span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="co"># in this example for version 0.0.1</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>R CMD check ATCapiR_<span class="dv">0</span>.<span class="dv">0</span>.<span class="fl">1.</span>tar.gz</span></code></pre></div>
</div>
<div id="guidelines-for-contributors" class="section level3">
<h3 class="hasAnchor">
<a href="#guidelines-for-contributors" class="anchor"></a>Guidelines for contributors</h3>
<p>Requests for new features and bug fixes should first be documented as an <a href="https://github.com/">Issue</a> on GitHub. Subsequently, in order to contribute to this R package you should fork the main repository. After you have made your changes please run the <a href="README.md#testing-with-devtools">tests</a> and <a href="README.md#linting-with-lintr">lint</a> your code as indicated above. Please also increment the version number. If all tests pass and linting confirms that your coding style conforms you can send a pull request (PR). Changes should also be mentioned in the <code>NEWS</code> file. A test has been implemented to remind you to make these changes (see <a href="tests/testthat/test-version_diff.R">here</a>). The PR should have a description to help the reviewer understand what has been added/changed. New functionalities must be thoroughly documented, have examples and should be accompanied by at least one <a href="tests/testthat/">test</a> to ensure long term robustness. The PR will only be reviewed if all travis, AppVeyor and GitHub actions checks are successful. The person sending the PR should not be the one merging it.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Patrick R. Wright <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Patrick R. Wright.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
